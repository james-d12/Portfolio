---
import { getCollection } from "astro:content";
import BlogCard from "./BlogCard.astro";

const blogs = (await getCollection("blog"))
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 4);
---

<section id="projects" class="section justify-between">
  <section class="content-container">
    <h2 class="section-title">Blogs</h2>
    <p class="section-paragraph">
      A collection of my blogs noting down anything I find useful to share with
      the world.
    </p>
    <div class="grid grid-rows-1 gap-8">
      {
        blogs.map((blog) => (
          <BlogCard title={blog.data.title} slug={blog.slug} />
        ))
      }
    </div>
  </section>
</section>
